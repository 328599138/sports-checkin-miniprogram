<!--index.wxml-->
<navigation-bar title="è¿åŠ¨æ‰“å¡" back="{{false}}" color="white" background="rgba(255,255,255,0.1)"></navigation-bar>

<scroll-view class="scrollarea" scroll-y type="list">
  <view class="container">
    <!-- ä¸»æ‰“å¡åŒºåŸŸ -->
    <view class="checkin-main">
      <view class="date-display">
        <text class="date-text">{{currentDate}}</text>
        <text class="day-text">{{currentDay}}</text>
      </view>
      
      <!-- æ‰“å¡æŒ‰é’® -->
      <view class="checkin-button-container">
        <button class="checkin-button {{isCheckedToday ? 'checked' : ''}}" 
                bindtap="handleCheckin" 
                disabled="{{isCheckedToday}}">
          <view class="button-content">
            <text class="button-icon">{{isCheckedToday ? 'âœ“' : 'ğŸ’ª'}}</text>
            <text class="button-text">{{isCheckedToday ? 'ä»Šæ—¥å·²æ‰“å¡' : 'å¼€å§‹è¿åŠ¨'}}</text>
          </view>
        </button>
      </view>
      
      <!-- è¿åŠ¨ç±»å‹é€‰æ‹© -->
      <view class="sport-types" wx:if="{{!isCheckedToday}}">
        <text class="section-title">é€‰æ‹©è¿åŠ¨ç±»å‹</text>
        <view class="sport-grid">
          <view class="sport-item {{selectedSport === item.id ? 'selected' : ''}}" 
                wx:for="{{sportTypes}}" 
                wx:key="id"
                bindtap="selectSport"
                data-sport="{{item.id}}">
            <text class="sport-emoji">{{item.emoji}}</text>
            <text class="sport-name">{{item.name}}</text>
          </view>
        </view>
      </view>
    </view>
    
    <!-- ç»Ÿè®¡å¡ç‰‡ -->
    <view class="stats-container">
      <view class="stat-card">
        <text class="stat-number">{{weeklyCount}}</text>
        <text class="stat-label">æœ¬å‘¨æ‰“å¡</text>
      </view>
      <view class="stat-card">
        <text class="stat-number">{{totalCount}}</text>
        <text class="stat-label">æ€»è®¡æ‰“å¡</text>
      </view>
    </view>
    
    <!-- å¿«æ·æ“ä½œ -->
    <view class="quick-actions">
      <button class="action-button" bindtap="goToHistory">
        <text class="action-icon">ğŸ“Š</text>
        <text class="action-text">æ‰“å¡å†å²</text>
      </button>
    </view>
  </view>
</scroll-view>
